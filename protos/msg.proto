syntax = "proto3";

package protocol;

// GatewayとGameServerとの通信サービス
service GameServerService {
  // 双方向ストリーミング：一つGateway接続は一つのプレイヤーの接続
  rpc PlayerSession(stream G2G_Message) returns (stream G2G_Message);
}

message G2G_Message {
  int32 protocol_id = 1;
  bytes data = 2;
}


// 加密需要的key
// 暗号化に必要のKey
message S2C_Key {
  int64 key = 1;
}

// 验证token
// token検証
message C2S_VerifyToken {
  string token = 1;
}

// token検証結果
message S2C_VerifyToken {
  int32 code = 1; // 1==成功
  string account_id = 2;
  int64 user_id = 3;
}

message C2S_Heartbeat {
}